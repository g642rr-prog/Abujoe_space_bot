from telegram.ext import Updater, CommandHandler, MessageHandler, Filters
from telegram import ReplyKeyboardMarkup
import logging
import gspread
from oauth2client.service_account import ServiceAccountCredentials

logging.basicConfig(level=logging.DEBUG)

# ุงูุชููู ุจุชุงุนู
TOKEN = "ุงูุชููู_ุงููู_ุดุบุงู_ุนูุฏู"

# ููุญุฉ ุงูููุงุชูุญ ุงูุฑุฆูุณูุฉ
keyboard = [
    ['๐ ุงูุฎุฏูุงุช ุงููุถุงุฆูุฉ', '๐ฐ ุงูุฃุฏูุงุช ุงูุตุญูุฉ'],
    ['๐ป ุจุฑุงูุฌ ุงูุณููุช ููุฑ', '๐ ููููู ูุจุงุดุฑ'],
    ['๐ข ุงุนุฑู ุนูุง ุงูุชุฑ']
]
reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True, one_time_keyboard=False)

# ุจูุงูุงุช ุงูููุชุฌุงุช
products = {
    'ุงูุฃุฏูุงุช ุงูุตุญูุฉ': {
        'ุญูุถ': '๐ ุญูุถ ุญูุงู ุชุฑูู ุณุญุงุจ \nโข ุถูุงู 5 ุณููู \nโข ุฃููุงู ูุชุนุฏุฏุฉ \nโข ุชุฑููุจ ูุฌุงูู',
        'ุฎูุงุท': '๐ฟ ุฎูุงุท ุชุฑูู ุณุญุงุจ \nโข ุถูุงู 5 ุณููู \nโข ุชูููุฑ 40% ูู ุงูููุงู \nโข ุชุตููู ุฃูุฑูุจู',
        'ุจูุฏูู': '๐ ุจูุฏูู ุดุงูุฑ \nโข ุถูุงู 3 ุณููู \nโข ููุงูู ููุตุฏุฃ \nโข ุชุฏูู ููู'
    },
    'ุงูุฎุฏูุงุช ุงููุถุงุฆูุฉ': {
        'ุชุทุจููุงุช': '๐ฑ ุชุทุจููุงุช ูุถุงุฆูุฉ \nโข ุชุตููู ูุจุชูุฑ \nโข ุณุฑุนุฉ ูุงุฆูุฉ \nโข ุฏุนู ููู 24/7',
        'ููุงูุน': '๐ ููุงูุน ูุถุงุฆูุฉ \nโข ุชุตุงููู ุฎุงุฑุฌ ุงูุฃุฑุถ \nโข ุฃูุงู ุนุงูู \nโข ุงุณุชุถุงูุฉ ูุฌุงููุฉ'
    }
}

def start_bot(update, context):
    user = update.message.from_user
    welcome_text = f"""๐ ุงููุง ุจูู ูู ุงุจู ุฌู ููุชุทููุฑ ุงููุถุงุฆู! ๐

{user.first_name}.. ูููู ุงุฎุฏูู ุงุฒุงู ูุงุนู ุงููุงุณุ ๐

ุงูุง โ๏ธ ูุนุงู ููุง ููุด ูุณูุจู ุชูุดู ุบูุฑ ูุงูุช ูุจุณูุท!"""
    
    update.message.reply_text(welcome_text, reply_markup=reply_markup)

def handle_message(update, context):
    user_text = update.message.text.lower()
    user = update.message.from_user
    
    # ูู ุงูุนููู ูุชุจ ุชุญูุฉ
    if any(word in user_text for word in ['ุณูุงู', 'ุงููุง', 'ุงูููู', 'ูุฑุญุจุง', 'ุงูุณูุงู', 'ุตุจุงุญ', 'ูุณุงุก']):
        response = f"ูุนูููู ุงูุณูุงู ๐น\nุงุฒูู ูุงููุฏู ุนุงูู ุงููุ ๐\n\nุงุชูุถู ุงุฒุงู ุงูุฏุฑ ุงุณุงุนุฏู ุงู ุงุฎุฏููุ"
        update.message.reply_text(response, reply_markup=reply_markup)
    
    # ุงูุฎุฏูุงุช ุงููุถุงุฆูุฉ
    elif user_text == '๐ ุงูุฎุฏูุงุช ุงููุถุงุฆูุฉ':
        services_text = """๐ ุฎุฏูุงุชูุง ุงููุถุงุฆูุฉ:
        
โข ๐ฑ ุชุทุจููุงุช ุฌูุงู
โข ๐ ููุงูุน ุฅููุชุฑูููุฉ  
โข ๐ฐ๏ธ ุฃูุธูุฉ ุฅุฏุงุฑุฉ
โข ๐ง ุจุฑุงูุฌ ูุฎุตุตุฉ

ุงุฎุชุงุฑ ููุน ุงูุฎุฏูุฉ ุงููู ุชุญุจูุง ๐"""
        update.message.reply_text(services_text, reply_markup=ReplyKeyboardMarkup([
            ['๐ฑ ุชุทุจููุงุช', '๐ ููุงูุน'],
            ['๐ฐ๏ธ ุฃูุธูุฉ', '๐ง ุจุฑุงูุฌ ูุฎุตุตุฉ'],
            ['๐ ุงูุฑุฆูุณูุฉ']
        ], resize_keyboard=True))
    
    # ุงูุฃุฏูุงุช ุงูุตุญูุฉ
    elif user_text == '๐ฐ ุงูุฃุฏูุงุช ุงูุตุญูุฉ':
        products_text = """๐ฐ ุฃุฏูุงุชูุง ุงูุตุญูุฉ:
        
โข ๐ ุฃุญูุงุถ ุญูุงูุงุช
โข ๐ฟ ุฎูุงุทุงุช ููุงู
โข ๐ ุจูุฏูู ุดุงูุฑ
โข ๐๏ธ ูุณุชูุฒูุงุช ุชุฑููุจ

ุงุฎุชุงุฑ ุงูููุชุฌ ุงููู ูุนุฌุจู ๐"""
        update.message.reply_text(products_text, reply_markup=ReplyKeyboardMarkup([
            ['๐ ุญูุถ', '๐ฟ ุฎูุงุท'],
            ['๐ ุจูุฏูู', '๐๏ธ ูุณุชูุฒูุงุช'],
            ['๐ ุงูุฑุฆูุณูุฉ']
        ], resize_keyboard=True))
    
    # ุงุฎุชูุงุฑ ููุชุฌ ูุนูู
    elif user_text in ['๐ ุญูุถ', 'ุญูุถ']:
        response = """ุชูุงู ๐ค 

๐ ุญูุถ ุญูุงู ุชุฑูู ุณุญุงุจ 
โข ุถูุงู 5 ุณููู 
โข ุฃููุงู ูุชุนุฏุฏุฉ 
โข ุชุฑููุจ ูุฌุงูู

ูุงูู ุฑุฃู ุญุถุฑุชู ููุง ุชุดูู ุงูุฎูุงุทุงุช ุงูุชุฑูู ุงูุณุญุงุจ ูุนููู ุถูุงู 5 ุณูููุ ๐"""
        
        update.message.reply_text(response, reply_markup=ReplyKeyboardMarkup([
            ['๐ฟ ุฎูุงุท', '๐ ุจูุฏูู'],
            ['๐ ุงุทูุจ ุงูุญูุถ', '๐ ุงูุฑุฆูุณูุฉ']
        ], resize_keyboard=True))
    
    elif user_text in ['๐ฟ ุฎูุงุท', 'ุฎูุงุท']:
        response = """๐ฟ ุฎูุงุท ุชุฑูู ุณุญุงุจ 
โข ุถูุงู 5 ุณููู 
โข ุชูููุฑ 40% ูู ุงูููุงู 
โข ุชุตููู ุฃูุฑูุจู

ุงูุณุนุฑ: 850 ุฌููู 
ุฎุตู 10% ูููููุงุช ๐"""
        
        update.message.reply_text(response, reply_markup=ReplyKeyboardMarkup([
            ['๐ ุญูุถ', '๐ ุจูุฏูู'],
            ['๐ฟ ุงุทูุจ ุงูุฎูุงุท', '๐ณ ุงุณุชูุณุงุฑ ุนู ุณุนุฑ'],
            ['๐ ุงูุฑุฆูุณูุฉ']
        ], resize_keyboard=True))
    
    # ุทูุจ ุงูููุชุฌ
    elif any(word in user_text for word in ['ุงุทูุจ', 'ุนุงูุฒ', 'ุฃุฑูุฏ', 'ูุญุชุงุฌ']):
        response = """๐ค ุชูุงู ูุงููุฏู!

ุงุณูุจ ุฑุณุงูุชู ููุฑุฏ ุนููู ุจุนุฏ ุดููุฉ.. 
ููุฌููู ุชูุจูู ููุง ูุฑุฏ! ๐ฉ

ูุดุฑูุชูุง ูููุฑุชูุง! ๐ท
ููุงููู ุงู ููุช!"""
        update.message.reply_text(response)
        
        # ููุง ููุจุนุช ุฅุดุนุงุฑ ููุฅูููู ุฃู ุงูุฌูุฌู ุดูุช
    
    # ุนู ุงูุดุฑูุฉ
    elif user_text == '๐ข ุงุนุฑู ุนูุง ุงูุชุฑ':
        response = """๐ข ุฃุจู ุฌู ููุชุทููุฑ ุงููุถุงุฆู:

โข ๐ ุจูุทูุฑ ุจุฑุงูุฌ ุฎุงุฑุฌ ุงูุฃุฑุถ
โข ๐ฐ ูุจูููุฑ ุฃุฏูุงุช ุตุญูุฉ ูู ุชุฑููุง
โข โญ ุฃูุซุฑ ูู 500 ุนููู ุฑุงุถู
โข ๐ ุฏุนู ููู 24 ุณุงุนุฉ

ููุงููู ุงู ููุช! ๐ท"""
        update.message.reply_text(response, reply_markup=reply_markup)
    
    # ููููู ูุจุงุดุฑ
    elif user_text == '๐ ููููู ูุจุงุดุฑ':
        response = """๐ ุชูุงุตู ูุนูุง ูุจุงุดุฑ:

โข ๐ 0123456789
โข ๐ง g642rr@gmail.com
โข ๐ข ุงููุงูุฑุฉ - ูุตุฑ

โฐ 24 ุณุงุนุฉ ๐"""
        update.message.reply_text(response, reply_markup=reply_markup)
    
    # ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
    elif user_text == '๐ ุงูุฑุฆูุณูุฉ':
        start_bot(update, context)
    
    # ุฃู ุฑุณุงูุฉ ุฃุฎุฑู
    else:
        response = "ุงุชูุถู ุงุฒุงู ุงูุฏุฑ ุงุณุงุนุฏู ุงู ุงุฎุฏููุ ๐"
        update.message.reply_text(response, reply_markup=reply_markup)

print("๐ ุฃุจู ุฌู ููุชุทููุฑ ุงููุถุงุฆู ุดุบุงู!")
updater = Updater(TOKEN, use_context=True)

# ุนูุดุงู ูุจุฏุฃ ุจุฃู ุฑุณุงูุฉ ูุด /start ุจุณ
updater.dispatcher.add_handler(MessageHandler(Filters.text & ~Filters.command, handle_message))
updater.dispatcher.add_handler(CommandHandler('start', start_bot))

updater.start_polling()
